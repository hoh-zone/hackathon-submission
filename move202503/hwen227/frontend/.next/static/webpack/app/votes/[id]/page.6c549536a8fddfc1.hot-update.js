"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/votes/[id]/page",{

/***/ "(app-pages-browser)/./contracts/seal.ts":
/*!***************************!*\
  !*** ./contracts/seal.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   constructMoveCall: () => (/* binding */ constructMoveCall),\n/* harmony export */   decryptVotePool: () => (/* binding */ decryptVotePool),\n/* harmony export */   encryptUserVote: () => (/* binding */ encryptUserVote),\n/* harmony export */   encryptVotePool: () => (/* binding */ encryptVotePool),\n/* harmony export */   test_decrptedVoteBox: () => (/* binding */ test_decrptedVoteBox)\n/* harmony export */ });\n/* harmony import */ var _mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mysten/sui/utils */ \"(app-pages-browser)/./node_modules/@mysten/bcs/dist/esm/hex.js\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! . */ \"(app-pages-browser)/./contracts/index.ts\");\n/* harmony import */ var _mysten_sui_transactions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mysten/sui/transactions */ \"(app-pages-browser)/./node_modules/@mysten/sui/dist/esm/transactions/Transaction.js\");\n/* harmony import */ var _mysten_seal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mysten/seal */ \"(app-pages-browser)/./node_modules/@mysten/seal/dist/esm/bcs.js\");\n/* harmony import */ var _mysten_seal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mysten/seal */ \"(app-pages-browser)/./node_modules/@mysten/seal/dist/esm/error.js\");\n\n\n\n\n\nconst constructMoveCall = (packageId, allowlistId)=>{\n    return (tx, id)=>{\n        tx.moveCall({\n            target: \"\".concat(packageId, \"::allowlist::seal_approve\"),\n            arguments: [\n                tx.pure.vector('u8', (0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.fromHex)(id)),\n                tx.object(allowlistId),\n                tx.pure.string(\"\")\n            ]\n        });\n    };\n};\nconst encryptVotePool = async (votePool, allowlistID)=>{\n    const nonce = crypto.getRandomValues(new Uint8Array(5));\n    const policyObjectBytes = (0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.fromHex)(allowlistID);\n    const id = (0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.toHex)(new Uint8Array([\n        ...policyObjectBytes,\n        ...nonce\n    ]));\n    const encoder = new TextEncoder();\n    const serializedData = encoder.encode(JSON.stringify(votePool));\n    const { encryptedObject: encryptedBytes } = await ___WEBPACK_IMPORTED_MODULE_0__.sealClient.encrypt({\n        threshold: 2,\n        id,\n        packageId: ___WEBPACK_IMPORTED_MODULE_0__.networkConfig.testnet.variables.packageID,\n        data: serializedData\n    });\n    return encryptedBytes;\n};\nconst encryptUserVote = async (option, voteboxID)=>{\n    const nonce = crypto.getRandomValues(new Uint8Array(5));\n    const policyObjectBytes = (0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.fromHex)(voteboxID);\n    const id = (0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.toHex)(new Uint8Array([\n        ...policyObjectBytes,\n        ...nonce\n    ]));\n    const encoder = new TextEncoder();\n    const { encryptedObject: encryptedBytes } = await ___WEBPACK_IMPORTED_MODULE_0__.sealClient.encrypt({\n        threshold: 2,\n        id,\n        packageId: ___WEBPACK_IMPORTED_MODULE_0__.networkConfig.testnet.variables.packageID,\n        data: encoder.encode(option)\n    });\n    return encryptedBytes;\n};\nconst decryptVotePool = async (sessionKey, encryptedData, moveCallConstructor)=>{\n    const fullId = _mysten_seal__WEBPACK_IMPORTED_MODULE_2__.EncryptedObject.parse(encryptedData).id;\n    const tx = new _mysten_sui_transactions__WEBPACK_IMPORTED_MODULE_3__.Transaction();\n    moveCallConstructor(tx, fullId);\n    const txBytes = await tx.build({\n        client: ___WEBPACK_IMPORTED_MODULE_0__.suiClient,\n        onlyTransactionKind: true\n    });\n    try {\n        const decryptedData = await ___WEBPACK_IMPORTED_MODULE_0__.sealClient.decrypt({\n            data: encryptedData,\n            sessionKey,\n            txBytes\n        });\n        console.log(\"权限通过\");\n        return decodeVotePool(decryptedData);\n    } catch (err) {\n        console.log(err);\n        const errorMsg = err instanceof _mysten_seal__WEBPACK_IMPORTED_MODULE_4__.NoAccessError ? 'No access to decryption keys' : 'Unable to decrypt files, try again';\n        console.error(errorMsg, err);\n        return;\n    }\n};\nconst decodeVotePool = (data)=>{\n    try {\n        // 将Uint8Array转换为文本\n        const decoder = new TextDecoder();\n        const jsonString = decoder.decode(data);\n        // 解析JSON字符串成对象\n        const votePoolData = JSON.parse(jsonString);\n        return votePoolData;\n    } catch (error) {\n        console.error(\"解码VotePool失败:\", error);\n        throw new Error(\"无法解码VotePool数据\");\n    }\n};\n// const decrptedVoteBox = async (voteBoxData: SuiEncryptedVoteType[]) => {\n//     const validVotes = voteBoxData.filter((vote) => {\n//         vote.voter is Uint16Array\n//     }\n// }\nconst test_decrptedVoteBox = async (sessionKey, voteBoxData, moveCallConstructor)=>{\n    console.log(\"开始解密投票数据，数量:\", voteBoxData.length);\n    console.log(\"使用的sessionKey地址:\", sessionKey.getAddress());\n    // 顺序处理而不是并行处理，以避免可能的竞争条件\n    const voteResult = [];\n    for (const vote of voteBoxData){\n        try {\n            // 为每个投票创建新的事务对象\n            const tx = new _mysten_sui_transactions__WEBPACK_IMPORTED_MODULE_3__.Transaction();\n            tx.setSender(sessionKey.getAddress());\n            // 解析加密对象ID\n            const fullId = _mysten_seal__WEBPACK_IMPORTED_MODULE_2__.EncryptedObject.parse(new Uint8Array(vote.vote)).id;\n            console.log(\"正在处理加密投票ID:\", fullId);\n            moveCallConstructor(tx, fullId);\n            const txBytes = await tx.build({\n                client: ___WEBPACK_IMPORTED_MODULE_0__.suiClient,\n                onlyTransactionKind: true\n            });\n            console.log(\"交易构建完成，开始解密...\");\n            // 解密投票\n            const decryptedVote = await ___WEBPACK_IMPORTED_MODULE_0__.sealClient.decrypt({\n                data: new Uint8Array(vote.vote),\n                sessionKey,\n                txBytes\n            });\n            const decoder = new TextDecoder();\n            const voteNumber = decoder.decode(decryptedVote);\n            console.log(\"解密成功，投票索引:\", voteNumber);\n            voteResult.push(voteNumber);\n        } catch (err) {\n            console.error(\"解密单个投票时出错:\", err);\n            // 详细记录错误类型\n            if (err instanceof _mysten_seal__WEBPACK_IMPORTED_MODULE_4__.NoAccessError) {\n                console.error('无权访问解密密钥:', err);\n            } else {\n                console.error('解密失败，详细错误:', err);\n                // 如果可能，记录sessionKey的状态\n                try {\n                    var _sessionKey_getPersonalMessage, _sessionKey_isExpired;\n                    console.log(\"当前sessionKey状态:\", {\n                        address: sessionKey.getAddress(),\n                        hasSignature: Boolean((_sessionKey_getPersonalMessage = sessionKey.getPersonalMessage) === null || _sessionKey_getPersonalMessage === void 0 ? void 0 : _sessionKey_getPersonalMessage.call(sessionKey)),\n                        expired: ((_sessionKey_isExpired = sessionKey.isExpired) === null || _sessionKey_isExpired === void 0 ? void 0 : _sessionKey_isExpired.call(sessionKey)) || \"未知\"\n                    });\n                } catch (e) {\n                    console.log(\"无法检查sessionKey状态\", e);\n                }\n            }\n        }\n    }\n    console.log(\"解密完成: 成功 \".concat(voteResult.length, \"/\").concat(voteBoxData.length));\n    return voteResult;\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sQ0FBQ1U7WUFDbENuQixRQUFRQyxHQUFHLENBQUMsY0FBY21CO1lBRTFCSixXQUFXSyxJQUFJLENBQUNEO1FBQ3BCLEVBQUUsT0FBT2pCLEtBQUs7WUFDVkgsUUFBUUssS0FBSyxDQUFDLGNBQWNGO1lBRTVCLFdBQVc7WUFDWCxJQUFJQSxlQUFlckQsdURBQWFBLEVBQUU7Z0JBQzlCa0QsUUFBUUssS0FBSyxDQUFDLGFBQWFGO1lBQy9CLE9BQU87Z0JBQ0hILFFBQVFLLEtBQUssQ0FBQyxjQUFjRjtnQkFFNUIsdUJBQXVCO2dCQUN2QixJQUFJO3dCQUcwQmQsZ0NBQ2JBO29CQUhiVyxRQUFRQyxHQUFHLENBQUMsbUJBQW1CO3dCQUMzQnFCLFNBQVNqQyxXQUFXMEIsVUFBVTt3QkFDOUJRLGNBQWNDLFNBQVFuQyxpQ0FBQUEsV0FBV29DLGtCQUFrQixjQUE3QnBDLHFEQUFBQSxvQ0FBQUE7d0JBQ3RCcUMsU0FBU3JDLEVBQUFBLHdCQUFBQSxXQUFXc0MsU0FBUyxjQUFwQnRDLDRDQUFBQSwyQkFBQUEsZ0JBQTRCO29CQUN6QztnQkFDSixFQUFFLE9BQU91QyxHQUFHO29CQUNSNUIsUUFBUUMsR0FBRyxDQUFDLG9CQUFvQjJCO2dCQUNwQztZQUNKO1FBQ0o7SUFDSjtJQUNBNUIsUUFBUUMsR0FBRyxDQUFDLFlBQWlDWSxPQUFyQkcsV0FBV0YsTUFBTSxFQUFDLEtBQXNCLE9BQW5CRCxZQUFZQyxNQUFNO0lBQy9ELE9BQU9FO0FBQ1gsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb250cmFjdHMvc2VhbC50cz9hOTk3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1aUVuY3J5cHRlZFZvdGVUeXBlLCBFbmNyeXB0ZWRJbnB1dFZvdGVQb29sIH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuaW1wb3J0IHsgdG9IZXggfSBmcm9tIFwiQG15c3Rlbi9zdWkvdXRpbHNcIjtcbmltcG9ydCB7IGZyb21IZXggfSBmcm9tIFwiQG15c3Rlbi9zdWkvdXRpbHNcIjtcbmltcG9ydCB7IG5ldHdvcmtDb25maWcsIHNlYWxDbGllbnQsIHN1aUNsaWVudCB9IGZyb20gXCIuXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gXCJAbXlzdGVuL3N1aS90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IEVuY3J5cHRlZE9iamVjdCwgTm9BY2Nlc3NFcnJvciwgU2Vzc2lvbktleSB9IGZyb20gXCJAbXlzdGVuL3NlYWxcIjtcblxuXG5leHBvcnQgdHlwZSBNb3ZlQ2FsbENvbnN0cnVjdG9yID0gKHR4OiBUcmFuc2FjdGlvbiwgaWQ6IHN0cmluZykgPT4gdm9pZDtcblxuZXhwb3J0IGNvbnN0IGNvbnN0cnVjdE1vdmVDYWxsID0gKHBhY2thZ2VJZDogc3RyaW5nLCBhbGxvd2xpc3RJZDogc3RyaW5nKTogTW92ZUNhbGxDb25zdHJ1Y3RvciA9PiB7XG4gICAgcmV0dXJuICh0eDogVHJhbnNhY3Rpb24sIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgdHgubW92ZUNhbGwoe1xuICAgICAgICAgICAgdGFyZ2V0OiBgJHtwYWNrYWdlSWR9OjphbGxvd2xpc3Q6OnNlYWxfYXBwcm92ZWAsXG4gICAgICAgICAgICBhcmd1bWVudHM6IFt0eC5wdXJlLnZlY3RvcigndTgnLCBmcm9tSGV4KGlkKSksIHR4Lm9iamVjdChhbGxvd2xpc3RJZCksIHR4LnB1cmUuc3RyaW5nKFwiXCIpXSxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGVuY3J5cHRWb3RlUG9vbCA9IGFzeW5jICh2b3RlUG9vbDogRW5jcnlwdGVkSW5wdXRWb3RlUG9vbCwgYWxsb3dsaXN0SUQ6IHN0cmluZyk6IFByb21pc2U8VWludDhBcnJheT4gPT4ge1xuICAgIGNvbnN0IG5vbmNlID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSg1KSk7XG4gICAgY29uc3QgcG9saWN5T2JqZWN0Qnl0ZXMgPSBmcm9tSGV4KGFsbG93bGlzdElEKTtcbiAgICBjb25zdCBpZCA9IHRvSGV4KG5ldyBVaW50OEFycmF5KFsuLi5wb2xpY3lPYmplY3RCeXRlcywgLi4ubm9uY2VdKSk7XG5cbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgY29uc3Qgc2VyaWFsaXplZERhdGEgPSBlbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeSh2b3RlUG9vbCkpO1xuXG4gICAgY29uc3QgeyBlbmNyeXB0ZWRPYmplY3Q6IGVuY3J5cHRlZEJ5dGVzIH0gPSBhd2FpdCBzZWFsQ2xpZW50LmVuY3J5cHQoe1xuICAgICAgICB0aHJlc2hvbGQ6IDIsXG4gICAgICAgIGlkLFxuICAgICAgICBwYWNrYWdlSWQ6IG5ldHdvcmtDb25maWcudGVzdG5ldC52YXJpYWJsZXMucGFja2FnZUlELFxuICAgICAgICBkYXRhOiBzZXJpYWxpemVkRGF0YSxcbiAgICB9KTtcblxuICAgIHJldHVybiBlbmNyeXB0ZWRCeXRlcztcbn1cblxuZXhwb3J0IGNvbnN0IGVuY3J5cHRVc2VyVm90ZSA9IGFzeW5jIChvcHRpb246IHN0cmluZywgdm90ZWJveElEOiBzdHJpbmcpOiBQcm9taXNlPFVpbnQ4QXJyYXk+ID0+IHtcbiAgICBjb25zdCBub25jZSA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoNSkpO1xuICAgIGNvbnN0IHBvbGljeU9iamVjdEJ5dGVzID0gZnJvbUhleCh2b3RlYm94SUQpO1xuICAgIGNvbnN0IGlkID0gdG9IZXgobmV3IFVpbnQ4QXJyYXkoWy4uLnBvbGljeU9iamVjdEJ5dGVzLCAuLi5ub25jZV0pKTtcblxuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblxuXG4gICAgY29uc3QgeyBlbmNyeXB0ZWRPYmplY3Q6IGVuY3J5cHRlZEJ5dGVzIH0gPSBhd2FpdCBzZWFsQ2xpZW50LmVuY3J5cHQoe1xuICAgICAgICB0aHJlc2hvbGQ6IDIsXG4gICAgICAgIGlkLFxuICAgICAgICBwYWNrYWdlSWQ6IG5ldHdvcmtDb25maWcudGVzdG5ldC52YXJpYWJsZXMucGFja2FnZUlELFxuICAgICAgICBkYXRhOiBlbmNvZGVyLmVuY29kZShvcHRpb24pLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVuY3J5cHRlZEJ5dGVzO1xufVxuXG5leHBvcnQgY29uc3QgZGVjcnlwdFZvdGVQb29sID0gYXN5bmMgKHNlc3Npb25LZXk6IFNlc3Npb25LZXksIGVuY3J5cHRlZERhdGE6IFVpbnQ4QXJyYXksIG1vdmVDYWxsQ29uc3RydWN0b3I6IE1vdmVDYWxsQ29uc3RydWN0b3IpID0+IHtcblxuICAgIGNvbnN0IGZ1bGxJZCA9IEVuY3J5cHRlZE9iamVjdC5wYXJzZShlbmNyeXB0ZWREYXRhKS5pZDtcblxuICAgIGNvbnN0IHR4ID0gbmV3IFRyYW5zYWN0aW9uKCk7XG4gICAgbW92ZUNhbGxDb25zdHJ1Y3Rvcih0eCwgZnVsbElkKTtcblxuICAgIGNvbnN0IHR4Qnl0ZXMgPSBhd2FpdCB0eC5idWlsZCh7IGNsaWVudDogc3VpQ2xpZW50LCBvbmx5VHJhbnNhY3Rpb25LaW5kOiB0cnVlIH0pO1xuXG4gICAgdHJ5IHtcblxuICAgICAgICBjb25zdCBkZWNyeXB0ZWREYXRhID0gYXdhaXQgc2VhbENsaWVudC5kZWNyeXB0KHtcbiAgICAgICAgICAgIGRhdGE6IGVuY3J5cHRlZERhdGEsXG4gICAgICAgICAgICBzZXNzaW9uS2V5LFxuICAgICAgICAgICAgdHhCeXRlcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCLmnYPpmZDpgJrov4dcIik7XG4gICAgICAgIHJldHVybiBkZWNvZGVWb3RlUG9vbChkZWNyeXB0ZWREYXRhKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgZXJyIGluc3RhbmNlb2YgTm9BY2Nlc3NFcnJvclxuICAgICAgICAgICAgICAgID8gJ05vIGFjY2VzcyB0byBkZWNyeXB0aW9uIGtleXMnXG4gICAgICAgICAgICAgICAgOiAnVW5hYmxlIHRvIGRlY3J5cHQgZmlsZXMsIHRyeSBhZ2Fpbic7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2csIGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cblxuY29uc3QgZGVjb2RlVm90ZVBvb2wgPSAoZGF0YTogVWludDhBcnJheSk6IEVuY3J5cHRlZElucHV0Vm90ZVBvb2wgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIOWwhlVpbnQ4QXJyYXnovazmjaLkuLrmlofmnKxcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gZGVjb2Rlci5kZWNvZGUoZGF0YSk7XG5cbiAgICAgICAgLy8g6Kej5p6QSlNPTuWtl+espuS4suaIkOWvueixoVxuICAgICAgICBjb25zdCB2b3RlUG9vbERhdGEgPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuXG4gICAgICAgIHJldHVybiB2b3RlUG9vbERhdGEgYXMgRW5jcnlwdGVkSW5wdXRWb3RlUG9vbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi6Kej56CBVm90ZVBvb2zlpLHotKU6XCIsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi5peg5rOV6Kej56CBVm90ZVBvb2zmlbDmja5cIik7XG4gICAgfVxufTtcblxuLy8gY29uc3QgZGVjcnB0ZWRWb3RlQm94ID0gYXN5bmMgKHZvdGVCb3hEYXRhOiBTdWlFbmNyeXB0ZWRWb3RlVHlwZVtdKSA9PiB7XG4vLyAgICAgY29uc3QgdmFsaWRWb3RlcyA9IHZvdGVCb3hEYXRhLmZpbHRlcigodm90ZSkgPT4ge1xuLy8gICAgICAgICB2b3RlLnZvdGVyIGlzIFVpbnQxNkFycmF5XG4vLyAgICAgfVxuLy8gfVxuXG5leHBvcnQgY29uc3QgdGVzdF9kZWNycHRlZFZvdGVCb3ggPSBhc3luYyAoc2Vzc2lvbktleTogU2Vzc2lvbktleSwgdm90ZUJveERhdGE6IFN1aUVuY3J5cHRlZFZvdGVUeXBlW10sIG1vdmVDYWxsQ29uc3RydWN0b3I6IE1vdmVDYWxsQ29uc3RydWN0b3IpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIuW8gOWni+ino+WvhuaKleelqOaVsOaNru+8jOaVsOmHjzpcIiwgdm90ZUJveERhdGEubGVuZ3RoKTtcbiAgICBjb25zb2xlLmxvZyhcIuS9v+eUqOeahHNlc3Npb25LZXnlnLDlnYA6XCIsIHNlc3Npb25LZXkuZ2V0QWRkcmVzcygpKTtcblxuICAgIC8vIOmhuuW6j+WkhOeQhuiAjOS4jeaYr+W5tuihjOWkhOeQhu+8jOS7pemBv+WFjeWPr+iDveeahOernuS6ieadoeS7tlxuICAgIGNvbnN0IHZvdGVSZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHZvdGUgb2Ygdm90ZUJveERhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIOS4uuavj+S4quaKleelqOWIm+W7uuaWsOeahOS6i+WKoeWvueixoVxuICAgICAgICAgICAgY29uc3QgdHggPSBuZXcgVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIHR4LnNldFNlbmRlcihzZXNzaW9uS2V5LmdldEFkZHJlc3MoKSk7XG5cbiAgICAgICAgICAgIC8vIOino+aekOWKoOWvhuWvueixoUlEXG4gICAgICAgICAgICBjb25zdCBmdWxsSWQgPSBFbmNyeXB0ZWRPYmplY3QucGFyc2UobmV3IFVpbnQ4QXJyYXkodm90ZS52b3RlKSkuaWQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuato+WcqOWkhOeQhuWKoOWvhuaKleelqElEOlwiLCBmdWxsSWQpO1xuICAgICAgICAgICAgbW92ZUNhbGxDb25zdHJ1Y3Rvcih0eCwgZnVsbElkKTtcblxuICAgICAgICAgICAgY29uc3QgdHhCeXRlcyA9IGF3YWl0IHR4LmJ1aWxkKHsgY2xpZW50OiBzdWlDbGllbnQsIG9ubHlUcmFuc2FjdGlvbktpbmQ6IHRydWUgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuS6pOaYk+aehOW7uuWujOaIkO+8jOW8gOWni+ino+Wvhi4uLlwiKTtcblxuICAgICAgICAgICAgLy8g6Kej5a+G5oqV56WoXG4gICAgICAgICAgICBjb25zdCBkZWNyeXB0ZWRWb3RlID0gYXdhaXQgc2VhbENsaWVudC5kZWNyeXB0KHtcbiAgICAgICAgICAgICAgICBkYXRhOiBuZXcgVWludDhBcnJheSh2b3RlLnZvdGUpLFxuICAgICAgICAgICAgICAgIHNlc3Npb25LZXksXG4gICAgICAgICAgICAgICAgdHhCeXRlcyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgICAgICBjb25zdCB2b3RlTnVtYmVyID0gZGVjb2Rlci5kZWNvZGUoZGVjcnlwdGVkVm90ZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuino+WvhuaIkOWKn++8jOaKleelqOe0ouW8lTpcIiwgdm90ZU51bWJlcik7XG5cbiAgICAgICAgICAgIHZvdGVSZXN1bHQucHVzaCh2b3RlTnVtYmVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6Kej5a+G5Y2V5Liq5oqV56Wo5pe25Ye66ZSZOlwiLCBlcnIpO1xuXG4gICAgICAgICAgICAvLyDor6bnu4borrDlvZXplJnor6/nsbvlnotcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBOb0FjY2Vzc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5peg5p2D6K6/6Zeu6Kej5a+G5a+G6ZKlOicsIGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ino+WvhuWksei0pe+8jOivpue7humUmeivrzonLCBlcnIpO1xuXG4gICAgICAgICAgICAgICAgLy8g5aaC5p6c5Y+v6IO977yM6K6w5b2Vc2Vzc2lvbktleeeahOeKtuaAgVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5b2T5YmNc2Vzc2lvbktleeeKtuaAgTpcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogc2Vzc2lvbktleS5nZXRBZGRyZXNzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNTaWduYXR1cmU6IEJvb2xlYW4oc2Vzc2lvbktleS5nZXRQZXJzb25hbE1lc3NhZ2U/LigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZWQ6IHNlc3Npb25LZXkuaXNFeHBpcmVkPy4oKSB8fCBcIuacquefpVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLml6Dms5Xmo4Dmn6VzZXNzaW9uS2V554q25oCBXCIsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhg6Kej5a+G5a6M5oiQOiDmiJDlip8gJHt2b3RlUmVzdWx0Lmxlbmd0aH0vJHt2b3RlQm94RGF0YS5sZW5ndGh9YCk7XG4gICAgcmV0dXJuIHZvdGVSZXN1bHQ7XG59O1xuXG4iXSwibmFtZXMiOlsidG9IZXgiLCJmcm9tSGV4IiwibmV0d29ya0NvbmZpZyIsInNlYWxDbGllbnQiLCJzdWlDbGllbnQiLCJUcmFuc2FjdGlvbiIsIkVuY3J5cHRlZE9iamVjdCIsIk5vQWNjZXNzRXJyb3IiLCJjb25zdHJ1Y3RNb3ZlQ2FsbCIsInBhY2thZ2VJZCIsImFsbG93bGlzdElkIiwidHgiLCJpZCIsIm1vdmVDYWxsIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwicHVyZSIsInZlY3RvciIsIm9iamVjdCIsInN0cmluZyIsImVuY3J5cHRWb3RlUG9vbCIsInZvdGVQb29sIiwiYWxsb3dsaXN0SUQiLCJub25jZSIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJwb2xpY3lPYmplY3RCeXRlcyIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsInNlcmlhbGl6ZWREYXRhIiwiZW5jb2RlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVuY3J5cHRlZE9iamVjdCIsImVuY3J5cHRlZEJ5dGVzIiwiZW5jcnlwdCIsInRocmVzaG9sZCIsInRlc3RuZXQiLCJ2YXJpYWJsZXMiLCJwYWNrYWdlSUQiLCJkYXRhIiwiZW5jcnlwdFVzZXJWb3RlIiwib3B0aW9uIiwidm90ZWJveElEIiwiZGVjcnlwdFZvdGVQb29sIiwic2Vzc2lvbktleSIsImVuY3J5cHRlZERhdGEiLCJtb3ZlQ2FsbENvbnN0cnVjdG9yIiwiZnVsbElkIiwicGFyc2UiLCJ0eEJ5dGVzIiwiYnVpbGQiLCJjbGllbnQiLCJvbmx5VHJhbnNhY3Rpb25LaW5kIiwiZGVjcnlwdGVkRGF0YSIsImRlY3J5cHQiLCJjb25zb2xlIiwibG9nIiwiZGVjb2RlVm90ZVBvb2wiLCJlcnIiLCJlcnJvck1zZyIsImVycm9yIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwianNvblN0cmluZyIsImRlY29kZSIsInZvdGVQb29sRGF0YSIsIkVycm9yIiwidGVzdF9kZWNycHRlZFZvdGVCb3giLCJ2b3RlQm94RGF0YSIsImxlbmd0aCIsImdldEFkZHJlc3MiLCJ2b3RlUmVzdWx0Iiwidm90ZSIsInNldFNlbmRlciIsImRlY3J5cHRlZFZvdGUiLCJ2b3RlTnVtYmVyIiwicHVzaCIsImFkZHJlc3MiLCJoYXNTaWduYXR1cmUiLCJCb29sZWFuIiwiZ2V0UGVyc29uYWxNZXNzYWdlIiwiZXhwaXJlZCIsImlzRXhwaXJlZCIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./contracts/seal.ts\n"));

/***/ })

});