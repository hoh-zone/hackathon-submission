"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/votes/[id]/page",{

/***/ "(app-pages-browser)/./contracts/query.ts":
/*!****************************!*\
  !*** ./contracts/query.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findObjectTypeName: () => (/* binding */ findObjectTypeName),\n/* harmony export */   getAllowlists: () => (/* binding */ getAllowlists),\n/* harmony export */   getMultiVotePools: () => (/* binding */ getMultiVotePools),\n/* harmony export */   getOwnedVotePool: () => (/* binding */ getOwnedVotePool),\n/* harmony export */   getVotePoolById: () => (/* binding */ getVotePoolById),\n/* harmony export */   getVotePoolState: () => (/* binding */ getVotePoolState),\n/* harmony export */   queryState: () => (/* binding */ queryState),\n/* harmony export */   queryVoteBox: () => (/* binding */ queryVoteBox)\n/* harmony export */ });\n/* harmony import */ var _mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mysten/sui/utils */ \"(app-pages-browser)/./node_modules/@mysten/sui/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"(app-pages-browser)/./contracts/index.ts\");\n\n\n//TODO:加上cursor和翻页？\nconst getVotePoolState = async ()=>{\n    const events = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.queryEvents({\n        query: {\n            MoveEventType: \"\".concat(_index__WEBPACK_IMPORTED_MODULE_0__.networkConfig.testnet.variables.packageID, \"::shadowvote::VotePoolCreated\")\n        }\n    });\n    const events_woal = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.queryEvents({\n        query: {\n            MoveEventType: \"\".concat(_index__WEBPACK_IMPORTED_MODULE_0__.networkConfig.testnet.variables.packageID, \"::votepool_wo_al::VotePoolCreated\")\n        }\n    });\n    const rawVotepools = [\n        ...events.data,\n        ...events_woal.data\n    ];\n    const votePoolState = rawVotepools.map((event)=>{\n        const parsedEvent = event.parsedJson;\n        return parsedEvent;\n    });\n    return votePoolState;\n};\nconst getMultiVotePools = async (vote_ids)=>{\n    const rawData = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.multiGetObjects({\n        ids: vote_ids,\n        options: {\n            showContent: true\n        }\n    });\n    const votePools = rawData.map((obj)=>{\n        var _obj_data;\n        const parsedVotePool = (_obj_data = obj.data) === null || _obj_data === void 0 ? void 0 : _obj_data.content;\n        if (!('fields' in parsedVotePool) || !parsedVotePool) {\n            throw new Error(\"Invalid vote pool data structure\");\n        }\n        return parsedVotePool.fields;\n    });\n    return votePools;\n};\nconst getAllowlists = async (owner)=>{\n    if (!(0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)(owner)) {\n        throw new Error(\"Invalid Sui address\");\n    }\n    // load all caps\n    const res = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.getOwnedObjects({\n        owner,\n        options: {\n            showContent: true,\n            showType: true\n        },\n        filter: {\n            StructType: \"\".concat(_index__WEBPACK_IMPORTED_MODULE_0__.networkConfig.testnet.variables.packageID, \"::allowlist::Cap\")\n        }\n    });\n    //Store caps with their corresponding allowlist IDs\n    const capsMap = {};\n    // find the allowlist id\n    const allowlistIds = res.data.map((obj)=>{\n        const objData = obj.data;\n        const content = objData.content;\n        if (content.dataType == \"moveObject\") {\n            const fields = content.fields;\n            if (fields && 'allowlist_id' in fields) {\n                capsMap[fields.allowlist_id] = objData.objectId;\n                return fields.allowlist_id;\n            }\n        }\n    }).filter((id)=>id !== undefined);\n    const rawAllowlist = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.multiGetObjects({\n        ids: allowlistIds,\n        options: {\n            showContent: true\n        }\n    });\n    const allowlistsWithCapPromise = rawAllowlist.map(async (obj)=>{\n        var _obj_data;\n        const parsedAllowlist = (_obj_data = obj.data) === null || _obj_data === void 0 ? void 0 : _obj_data.content;\n        if (!('fields' in parsedAllowlist) || !parsedAllowlist) {\n            throw new Error(\"Invalid allowlist data structure\");\n        }\n        const allowlist = parsedAllowlist.fields;\n        const allowlistId = allowlist.id.id;\n        const capId = capsMap[allowlistId];\n        if (!capId) {\n            throw new Error(\"Cap not found for allowlist \".concat(allowlistId));\n        }\n        const allowlistWithCap = {\n            allowlist,\n            capId\n        };\n        return allowlistWithCap;\n    });\n    const allowlistsWithCap = await Promise.all(allowlistsWithCapPromise);\n    return allowlistsWithCap;\n};\n//用不上咧，先放着\nconst getOwnedVotePool = async (address)=>{\n    if (!(0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)(address)) {\n        throw new Error(\"Invalid Sui address\");\n    }\n    try {\n        let cursor = null;\n        let hasNextPage = true;\n        let allObjects = [];\n        while(hasNextPage){\n            const response = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.getOwnedObjects({\n                owner: address,\n                cursor,\n                options: {\n                    showContent: true\n                },\n                filter: {\n                    StructType: \"\".concat(_index__WEBPACK_IMPORTED_MODULE_0__.networkConfig.testnet.variables.packageID, \"::shadowvote::VotePool\")\n                }\n            });\n            allObjects = allObjects.concat(response.data);\n            hasNextPage = response.hasNextPage;\n            var _response_nextCursor;\n            cursor = (_response_nextCursor = response.nextCursor) !== null && _response_nextCursor !== void 0 ? _response_nextCursor : null;\n        }\n        const votePoolsData = allObjects.map((obj)=>{\n            var _obj_data;\n            const parsedVotePool = (_obj_data = obj.data) === null || _obj_data === void 0 ? void 0 : _obj_data.content;\n            if (!('fields' in parsedVotePool) || !parsedVotePool) {\n                throw new Error(\"Invalid vote pool data structure\");\n            }\n            return parsedVotePool.fields;\n        });\n        return votePoolsData;\n    } catch (error) {\n        console.error(\"Error fetching vote pool:\", error);\n        throw error;\n    }\n};\nconst getVotePoolById = async (voetId)=>{\n    var _rawVotePoolData_data;\n    if (!(0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)(voetId)) {\n        throw new Error(\"Invalid Sui address\");\n    }\n    const rawVotePoolData = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.getObject({\n        id: voetId,\n        options: {\n            showContent: true,\n            showType: true\n        }\n    });\n    const parsedVotePool = (_rawVotePoolData_data = rawVotePoolData.data) === null || _rawVotePoolData_data === void 0 ? void 0 : _rawVotePoolData_data.content;\n    if (!('fields' in parsedVotePool) || !parsedVotePool) {\n        throw new Error(\"Invalid vote pool data structure\");\n    }\n    let is_allowlist = true;\n    if (parsedVotePool.type.includes(\"::votepool_wo_al::VotePool_WOAl\")) is_allowlist = false;\n    return [\n        parsedVotePool.fields,\n        is_allowlist\n    ];\n};\nconst queryState = async ()=>{\n    const state = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.getObject({\n        id: _index__WEBPACK_IMPORTED_MODULE_0__.networkConfig.testnet.variables.stateID,\n        options: {\n            showContent: true\n        }\n    });\n    return state;\n};\nconst queryVoteBox = async (voteBoxId)=>{\n    var _voteBox_data;\n    const voteBox = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.getObject({\n        id: voteBoxId,\n        options: {\n            showContent: true\n        }\n    });\n    const parsedVoteBox = (_voteBox_data = voteBox.data) === null || _voteBox_data === void 0 ? void 0 : _voteBox_data.content;\n    if (!('fields' in parsedVoteBox) || !parsedVoteBox || parsedVoteBox.dataType !== \"moveObject\") {\n        throw new Error(\"Invalid vote box data structure\");\n    }\n    const voteBoxDataFields = parsedVoteBox.fields;\n    if (!voteBoxDataFields.votes || !Array.isArray(voteBoxDataFields.votes)) {\n        throw new Error(\"Invalid vote box data structure\");\n    }\n    const voteboxData = voteBoxDataFields.votes.map((vote)=>{\n        const parsedVote = vote.fields;\n        const encryptedVote = {\n            voter: parsedVote.voter,\n            vote: parsedVote.vote\n        };\n        return encryptedVote;\n    });\n    return voteboxData;\n};\nconst findObjectTypeName = async (objectId)=>{\n    var _objData_data;\n    const objData = await _index__WEBPACK_IMPORTED_MODULE_0__.suiClient.getObject({\n        id: objectId,\n        options: {\n            showType: true,\n            showContent: true\n        }\n    });\n    const parsedObj = (_objData_data = objData.data) === null || _objData_data === void 0 ? void 0 : _objData_data.content;\n    if (!(parsedObj.dataType == \"moveObject\") || !parsedObj) {\n        throw new Error(\"Invalid object data structure\");\n    }\n    return parsedObj.type;\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVc7UUFDdkQsTUFBTSxJQUFJOUQsTUFBTTtJQUNsQjtJQUVBLE9BQU84RCxVQUFVbkIsSUFBSTtBQUN2QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbnRyYWN0cy9xdWVyeS50cz9jNzU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVmFsaWRTdWlBZGRyZXNzIH0gZnJvbSBcIkBteXN0ZW4vc3VpL3V0aWxzXCI7XHJcbmltcG9ydCB7IG5ldHdvcmtDb25maWcsIHN1aUNsaWVudCB9IGZyb20gXCIuL2luZGV4XCI7XHJcbmltcG9ydCB7IFN1aU9iamVjdERhdGEsIFN1aU9iamVjdFJlc3BvbnNlLCBTdWlQYXJzZWREYXRhIH0gZnJvbSBcIkBteXN0ZW4vc3VpL2NsaWVudFwiO1xyXG5pbXBvcnQgeyBTdWlFbmNyeXB0ZWRWb3RlVHlwZSwgU3VpUmVzcG9uc2VWb3RlUG9vbCB9IGZyb20gXCJAL3R5cGVzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFN1aVJlcG9uc2VBbGxvd2xpc3QgPSB7XHJcbiAgaWQ6IHsgaWQ6IHN0cmluZyB9LFxyXG4gIGxpc3Q6IHN0cmluZ1tdLFxyXG4gIG5hbWU6IHN0cmluZ1xyXG59XHJcblxyXG50eXBlIFN1aVJlc3BvbnNlQ2FwID0ge1xyXG4gIGlkOiB7IGlkOiBzdHJpbmcgfSxcclxuICBhbGxvd2xpc3RfaWQ6IHN0cmluZyxcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBbGxvd2xpc3RXaXRoQ2FwIHtcclxuICBhbGxvd2xpc3Q6IFN1aVJlcG9uc2VBbGxvd2xpc3QsXHJcbiAgY2FwSWQ6IHN0cmluZ1xyXG59XHJcblxyXG50eXBlIFZvdGVQb29sQ3JlYXRlZEV2ZW50ID0ge1xyXG4gIGNyZWF0b3I6IHN0cmluZyxcclxuICB2b3RlX3Bvb2w6IHN0cmluZ1xyXG59XHJcblxyXG5cclxuLy9UT0RPOuWKoOS4imN1cnNvcuWSjOe/u+mhte+8n1xyXG5leHBvcnQgY29uc3QgZ2V0Vm90ZVBvb2xTdGF0ZSA9IGFzeW5jICgpOiBQcm9taXNlPFZvdGVQb29sQ3JlYXRlZEV2ZW50W10+ID0+IHtcclxuICBjb25zdCBldmVudHMgPSBhd2FpdCBzdWlDbGllbnQucXVlcnlFdmVudHMoe1xyXG4gICAgcXVlcnk6IHtcclxuICAgICAgTW92ZUV2ZW50VHlwZTogYCR7bmV0d29ya0NvbmZpZy50ZXN0bmV0LnZhcmlhYmxlcy5wYWNrYWdlSUR9OjpzaGFkb3d2b3RlOjpWb3RlUG9vbENyZWF0ZWRgLFxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbiAgY29uc3QgZXZlbnRzX3dvYWwgPSBhd2FpdCBzdWlDbGllbnQucXVlcnlFdmVudHMoe1xyXG4gICAgcXVlcnk6IHtcclxuICAgICAgTW92ZUV2ZW50VHlwZTogYCR7bmV0d29ya0NvbmZpZy50ZXN0bmV0LnZhcmlhYmxlcy5wYWNrYWdlSUR9Ojp2b3RlcG9vbF93b19hbDo6Vm90ZVBvb2xDcmVhdGVkYCxcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc3QgcmF3Vm90ZXBvb2xzID0gWy4uLmV2ZW50cy5kYXRhLCAuLi5ldmVudHNfd29hbC5kYXRhXTtcclxuXHJcblxyXG4gIGNvbnN0IHZvdGVQb29sU3RhdGUgPSByYXdWb3RlcG9vbHMubWFwKChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgcGFyc2VkRXZlbnQgPSBldmVudC5wYXJzZWRKc29uIGFzIFZvdGVQb29sQ3JlYXRlZEV2ZW50O1xyXG4gICAgcmV0dXJuIHBhcnNlZEV2ZW50O1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gdm90ZVBvb2xTdGF0ZTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRNdWx0aVZvdGVQb29scyA9IGFzeW5jICh2b3RlX2lkczogc3RyaW5nW10pOiBQcm9taXNlPFN1aVJlc3BvbnNlVm90ZVBvb2xbXT4gPT4ge1xyXG4gIGNvbnN0IHJhd0RhdGEgPSBhd2FpdCBzdWlDbGllbnQubXVsdGlHZXRPYmplY3RzKHtcclxuICAgIGlkczogdm90ZV9pZHMsXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgIHNob3dDb250ZW50OiB0cnVlLFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgY29uc3Qgdm90ZVBvb2xzID0gcmF3RGF0YS5tYXAoKG9iaikgPT4ge1xyXG4gICAgY29uc3QgcGFyc2VkVm90ZVBvb2wgPSBvYmouZGF0YT8uY29udGVudCBhcyBTdWlQYXJzZWREYXRhO1xyXG4gICAgaWYgKCEoJ2ZpZWxkcycgaW4gcGFyc2VkVm90ZVBvb2wpIHx8ICFwYXJzZWRWb3RlUG9vbCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZvdGUgcG9vbCBkYXRhIHN0cnVjdHVyZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJzZWRWb3RlUG9vbC5maWVsZHMgYXMgU3VpUmVzcG9uc2VWb3RlUG9vbDtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHZvdGVQb29scztcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRBbGxvd2xpc3RzID0gYXN5bmMgKG93bmVyOiBzdHJpbmcpID0+IHtcclxuICBpZiAoIWlzVmFsaWRTdWlBZGRyZXNzKG93bmVyKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdWkgYWRkcmVzc1wiKTtcclxuICB9XHJcblxyXG4gIC8vIGxvYWQgYWxsIGNhcHNcclxuICBjb25zdCByZXMgPSBhd2FpdCBzdWlDbGllbnQuZ2V0T3duZWRPYmplY3RzKHtcclxuICAgIG93bmVyLFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICBzaG93Q29udGVudDogdHJ1ZSxcclxuICAgICAgc2hvd1R5cGU6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgZmlsdGVyOiB7XHJcbiAgICAgIFN0cnVjdFR5cGU6IGAke25ldHdvcmtDb25maWcudGVzdG5ldC52YXJpYWJsZXMucGFja2FnZUlEfTo6YWxsb3dsaXN0OjpDYXBgLFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgLy9TdG9yZSBjYXBzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZyBhbGxvd2xpc3QgSURzXHJcbiAgY29uc3QgY2Fwc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cclxuICAvLyBmaW5kIHRoZSBhbGxvd2xpc3QgaWRcclxuICBjb25zdCBhbGxvd2xpc3RJZHMgPSByZXMuZGF0YVxyXG4gICAgLm1hcCgob2JqKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9iakRhdGEgPSBvYmouZGF0YSBhcyBTdWlPYmplY3REYXRhO1xyXG4gICAgICBjb25zdCBjb250ZW50ID0gb2JqRGF0YS5jb250ZW50IGFzIFN1aVBhcnNlZERhdGE7XHJcbiAgICAgIGlmIChjb250ZW50LmRhdGFUeXBlID09IFwibW92ZU9iamVjdFwiKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGRzID0gY29udGVudC5maWVsZHMgYXMgU3VpUmVzcG9uc2VDYXA7XHJcbiAgICAgICAgaWYgKGZpZWxkcyAmJiAoJ2FsbG93bGlzdF9pZCcgaW4gZmllbGRzKSkge1xyXG4gICAgICAgICAgY2Fwc01hcFtmaWVsZHMuYWxsb3dsaXN0X2lkXSA9IG9iakRhdGEub2JqZWN0SWQ7XHJcbiAgICAgICAgICByZXR1cm4gZmllbGRzLmFsbG93bGlzdF9pZDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuZmlsdGVyKChpZCk6IGlkIGlzIHN0cmluZyA9PiBpZCAhPT0gdW5kZWZpbmVkKTtcclxuXHJcblxyXG4gIGNvbnN0IHJhd0FsbG93bGlzdCA9IGF3YWl0IHN1aUNsaWVudC5tdWx0aUdldE9iamVjdHMoe1xyXG4gICAgaWRzOiBhbGxvd2xpc3RJZHMsXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgIHNob3dDb250ZW50OiB0cnVlLFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgYWxsb3dsaXN0c1dpdGhDYXBQcm9taXNlID0gcmF3QWxsb3dsaXN0Lm1hcChhc3luYyAob2JqKSA9PiB7XHJcbiAgICBjb25zdCBwYXJzZWRBbGxvd2xpc3QgPSBvYmouZGF0YT8uY29udGVudCBhcyBTdWlQYXJzZWREYXRhO1xyXG5cclxuICAgIGlmICghKCdmaWVsZHMnIGluIHBhcnNlZEFsbG93bGlzdCkgfHwgIXBhcnNlZEFsbG93bGlzdCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFsbG93bGlzdCBkYXRhIHN0cnVjdHVyZVwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGFsbG93bGlzdCA9IHBhcnNlZEFsbG93bGlzdC5maWVsZHMgYXMgU3VpUmVwb25zZUFsbG93bGlzdDtcclxuXHJcbiAgICBjb25zdCBhbGxvd2xpc3RJZCA9IGFsbG93bGlzdC5pZC5pZDtcclxuICAgIGNvbnN0IGNhcElkID0gY2Fwc01hcFthbGxvd2xpc3RJZF07XHJcblxyXG4gICAgaWYgKCFjYXBJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhcCBub3QgZm91bmQgZm9yIGFsbG93bGlzdCAke2FsbG93bGlzdElkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFsbG93bGlzdFdpdGhDYXA6IEFsbG93bGlzdFdpdGhDYXAgPSB7XHJcbiAgICAgIGFsbG93bGlzdCxcclxuICAgICAgY2FwSWRcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGFsbG93bGlzdFdpdGhDYXA7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGFsbG93bGlzdHNXaXRoQ2FwID0gYXdhaXQgUHJvbWlzZS5hbGwoYWxsb3dsaXN0c1dpdGhDYXBQcm9taXNlKTtcclxuXHJcbiAgcmV0dXJuIGFsbG93bGlzdHNXaXRoQ2FwO1xyXG5cclxufVxyXG5cclxuLy/nlKjkuI3kuIrlkqfvvIzlhYjmlL7nnYBcclxuZXhwb3J0IGNvbnN0IGdldE93bmVkVm90ZVBvb2wgPSBhc3luYyAoYWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxTdWlSZXNwb25zZVZvdGVQb29sW10+ID0+IHtcclxuICBpZiAoIWlzVmFsaWRTdWlBZGRyZXNzKGFkZHJlc3MpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFN1aSBhZGRyZXNzXCIpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGxldCBjdXJzb3I6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgPSBudWxsO1xyXG4gICAgbGV0IGhhc05leHRQYWdlID0gdHJ1ZTtcclxuICAgIGxldCBhbGxPYmplY3RzOiBTdWlPYmplY3RSZXNwb25zZVtdID0gW107XHJcblxyXG4gICAgd2hpbGUgKGhhc05leHRQYWdlKSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3VpQ2xpZW50LmdldE93bmVkT2JqZWN0cyh7XHJcbiAgICAgICAgb3duZXI6IGFkZHJlc3MsXHJcbiAgICAgICAgY3Vyc29yLFxyXG4gICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgIHNob3dDb250ZW50OiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmaWx0ZXI6IHtcclxuICAgICAgICAgIFN0cnVjdFR5cGU6IGAke25ldHdvcmtDb25maWcudGVzdG5ldC52YXJpYWJsZXMucGFja2FnZUlEfTo6c2hhZG93dm90ZTo6Vm90ZVBvb2xgXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFsbE9iamVjdHMgPSBhbGxPYmplY3RzLmNvbmNhdChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgaGFzTmV4dFBhZ2UgPSByZXNwb25zZS5oYXNOZXh0UGFnZTtcclxuICAgICAgY3Vyc29yID0gcmVzcG9uc2UubmV4dEN1cnNvciA/PyBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZvdGVQb29sc0RhdGEgPSBhbGxPYmplY3RzLm1hcCgob2JqKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBhcnNlZFZvdGVQb29sID0gb2JqLmRhdGE/LmNvbnRlbnQgYXMgU3VpUGFyc2VkRGF0YTtcclxuICAgICAgaWYgKCEoJ2ZpZWxkcycgaW4gcGFyc2VkVm90ZVBvb2wpIHx8ICFwYXJzZWRWb3RlUG9vbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdm90ZSBwb29sIGRhdGEgc3RydWN0dXJlXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBwYXJzZWRWb3RlUG9vbC5maWVsZHMgYXMgU3VpUmVzcG9uc2VWb3RlUG9vbDtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB2b3RlUG9vbHNEYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdm90ZSBwb29sOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFZvdGVQb29sQnlJZCA9IGFzeW5jICh2b2V0SWQ6IHN0cmluZyk6IFByb21pc2U8W1N1aVJlc3BvbnNlVm90ZVBvb2wsIGJvb2xlYW5dPiA9PiB7XHJcbiAgaWYgKCFpc1ZhbGlkU3VpQWRkcmVzcyh2b2V0SWQpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFN1aSBhZGRyZXNzXCIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmF3Vm90ZVBvb2xEYXRhID0gYXdhaXQgc3VpQ2xpZW50LmdldE9iamVjdCh7XHJcbiAgICBpZDogdm9ldElkLFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICBzaG93Q29udGVudDogdHJ1ZSxcclxuICAgICAgc2hvd1R5cGU6IHRydWUsXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHBhcnNlZFZvdGVQb29sID0gcmF3Vm90ZVBvb2xEYXRhLmRhdGE/LmNvbnRlbnQgYXMgU3VpUGFyc2VkRGF0YTtcclxuICBpZiAoISgnZmllbGRzJyBpbiBwYXJzZWRWb3RlUG9vbCkgfHwgIXBhcnNlZFZvdGVQb29sKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZvdGUgcG9vbCBkYXRhIHN0cnVjdHVyZVwiKTtcclxuICB9XHJcblxyXG4gIGxldCBpc19hbGxvd2xpc3Q6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIGlmIChwYXJzZWRWb3RlUG9vbC50eXBlLmluY2x1ZGVzKFwiOjp2b3RlcG9vbF93b19hbDo6Vm90ZVBvb2xfV09BbFwiKSlcclxuICAgIGlzX2FsbG93bGlzdCA9IGZhbHNlO1xyXG5cclxuICByZXR1cm4gW3BhcnNlZFZvdGVQb29sLmZpZWxkcyBhcyBTdWlSZXNwb25zZVZvdGVQb29sLCBpc19hbGxvd2xpc3RdO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcXVlcnlTdGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBzdGF0ZSA9IGF3YWl0IHN1aUNsaWVudC5nZXRPYmplY3Qoe1xyXG4gICAgaWQ6IG5ldHdvcmtDb25maWcudGVzdG5ldC52YXJpYWJsZXMuc3RhdGVJRCxcclxuICAgIG9wdGlvbnM6IHtcclxuICAgICAgc2hvd0NvbnRlbnQ6IHRydWVcclxuICAgIH1cclxuICB9KVxyXG5cclxuICByZXR1cm4gc3RhdGU7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHF1ZXJ5Vm90ZUJveCA9IGFzeW5jICh2b3RlQm94SWQ6IHN0cmluZyk6IFByb21pc2U8U3VpRW5jcnlwdGVkVm90ZVR5cGVbXT4gPT4ge1xyXG4gIGNvbnN0IHZvdGVCb3ggPSBhd2FpdCBzdWlDbGllbnQuZ2V0T2JqZWN0KHtcclxuICAgIGlkOiB2b3RlQm94SWQsXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgIHNob3dDb250ZW50OiB0cnVlXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgY29uc3QgcGFyc2VkVm90ZUJveCA9IHZvdGVCb3guZGF0YT8uY29udGVudCBhcyBTdWlQYXJzZWREYXRhO1xyXG4gIGlmICghKCdmaWVsZHMnIGluIHBhcnNlZFZvdGVCb3gpIHx8ICFwYXJzZWRWb3RlQm94IHx8IHBhcnNlZFZvdGVCb3guZGF0YVR5cGUgIT09IFwibW92ZU9iamVjdFwiKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZvdGUgYm94IGRhdGEgc3RydWN0dXJlXCIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgdm90ZUJveERhdGFGaWVsZHMgPSAocGFyc2VkVm90ZUJveC5maWVsZHMgYXMgdW5rbm93bikgYXMge1xyXG4gICAgaWQ6IHsgaWQ6IHN0cmluZyB9LFxyXG4gICAgY3JlYXRvcjogc3RyaW5nLFxyXG4gICAgdm90ZXM6IHsgZmllbGRzOiB7IHZvdGVyOiBzdHJpbmcsIHZvdGU6IFVpbnQ4QXJyYXkgfSB9W11cclxuICB9O1xyXG5cclxuICBpZiAoIXZvdGVCb3hEYXRhRmllbGRzLnZvdGVzIHx8ICFBcnJheS5pc0FycmF5KHZvdGVCb3hEYXRhRmllbGRzLnZvdGVzKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2b3RlIGJveCBkYXRhIHN0cnVjdHVyZVwiKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHZvdGVib3hEYXRhID0gdm90ZUJveERhdGFGaWVsZHMudm90ZXMubWFwKCh2b3RlKSA9PiB7XHJcbiAgICBjb25zdCBwYXJzZWRWb3RlID0gdm90ZS5maWVsZHM7XHJcbiAgICBjb25zdCBlbmNyeXB0ZWRWb3RlOiBTdWlFbmNyeXB0ZWRWb3RlVHlwZSA9IHtcclxuICAgICAgdm90ZXI6IHBhcnNlZFZvdGUudm90ZXIsXHJcbiAgICAgIHZvdGU6IHBhcnNlZFZvdGUudm90ZSxcclxuICAgIH1cclxuICAgIHJldHVybiBlbmNyeXB0ZWRWb3RlO1xyXG4gIH0pXHJcblxyXG4gIHJldHVybiB2b3RlYm94RGF0YTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmRPYmplY3RUeXBlTmFtZSA9IGFzeW5jIChvYmplY3RJZDogc3RyaW5nKSA9PiB7XHJcbiAgY29uc3Qgb2JqRGF0YSA9IGF3YWl0IHN1aUNsaWVudC5nZXRPYmplY3Qoe1xyXG4gICAgaWQ6IG9iamVjdElkLFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICBzaG93VHlwZTogdHJ1ZSxcclxuICAgICAgc2hvd0NvbnRlbnQ6IHRydWVcclxuICAgIH1cclxuICB9KVxyXG5cclxuICBjb25zdCBwYXJzZWRPYmogPSBvYmpEYXRhLmRhdGE/LmNvbnRlbnQgYXMgU3VpUGFyc2VkRGF0YTtcclxuICBpZiAoIShwYXJzZWRPYmouZGF0YVR5cGUgPT0gXCJtb3ZlT2JqZWN0XCIpIHx8ICFwYXJzZWRPYmopIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb2JqZWN0IGRhdGEgc3RydWN0dXJlXCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHBhcnNlZE9iai50eXBlO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImlzVmFsaWRTdWlBZGRyZXNzIiwibmV0d29ya0NvbmZpZyIsInN1aUNsaWVudCIsImdldFZvdGVQb29sU3RhdGUiLCJldmVudHMiLCJxdWVyeUV2ZW50cyIsInF1ZXJ5IiwiTW92ZUV2ZW50VHlwZSIsInRlc3RuZXQiLCJ2YXJpYWJsZXMiLCJwYWNrYWdlSUQiLCJldmVudHNfd29hbCIsInJhd1ZvdGVwb29scyIsImRhdGEiLCJ2b3RlUG9vbFN0YXRlIiwibWFwIiwiZXZlbnQiLCJwYXJzZWRFdmVudCIsInBhcnNlZEpzb24iLCJnZXRNdWx0aVZvdGVQb29scyIsInZvdGVfaWRzIiwicmF3RGF0YSIsIm11bHRpR2V0T2JqZWN0cyIsImlkcyIsIm9wdGlvbnMiLCJzaG93Q29udGVudCIsInZvdGVQb29scyIsIm9iaiIsInBhcnNlZFZvdGVQb29sIiwiY29udGVudCIsIkVycm9yIiwiZmllbGRzIiwiZ2V0QWxsb3dsaXN0cyIsIm93bmVyIiwicmVzIiwiZ2V0T3duZWRPYmplY3RzIiwic2hvd1R5cGUiLCJmaWx0ZXIiLCJTdHJ1Y3RUeXBlIiwiY2Fwc01hcCIsImFsbG93bGlzdElkcyIsIm9iakRhdGEiLCJkYXRhVHlwZSIsImFsbG93bGlzdF9pZCIsIm9iamVjdElkIiwiaWQiLCJ1bmRlZmluZWQiLCJyYXdBbGxvd2xpc3QiLCJhbGxvd2xpc3RzV2l0aENhcFByb21pc2UiLCJwYXJzZWRBbGxvd2xpc3QiLCJhbGxvd2xpc3QiLCJhbGxvd2xpc3RJZCIsImNhcElkIiwiYWxsb3dsaXN0V2l0aENhcCIsImFsbG93bGlzdHNXaXRoQ2FwIiwiUHJvbWlzZSIsImFsbCIsImdldE93bmVkVm90ZVBvb2wiLCJhZGRyZXNzIiwiY3Vyc29yIiwiaGFzTmV4dFBhZ2UiLCJhbGxPYmplY3RzIiwicmVzcG9uc2UiLCJjb25jYXQiLCJuZXh0Q3Vyc29yIiwidm90ZVBvb2xzRGF0YSIsImVycm9yIiwiY29uc29sZSIsImdldFZvdGVQb29sQnlJZCIsInZvZXRJZCIsInJhd1ZvdGVQb29sRGF0YSIsImdldE9iamVjdCIsImlzX2FsbG93bGlzdCIsInR5cGUiLCJpbmNsdWRlcyIsInF1ZXJ5U3RhdGUiLCJzdGF0ZSIsInN0YXRlSUQiLCJxdWVyeVZvdGVCb3giLCJ2b3RlQm94SWQiLCJ2b3RlQm94IiwicGFyc2VkVm90ZUJveCIsInZvdGVCb3hEYXRhRmllbGRzIiwidm90ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJ2b3RlYm94RGF0YSIsInZvdGUiLCJwYXJzZWRWb3RlIiwiZW5jcnlwdGVkVm90ZSIsInZvdGVyIiwiZmluZE9iamVjdFR5cGVOYW1lIiwicGFyc2VkT2JqIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./contracts/query.ts\n"));

/***/ })

});